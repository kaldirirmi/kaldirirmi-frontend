<link rel="import" href="../../bower_components/polymer/polymer-element.html">

<link rel="import" href="../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../../bower_components/paper-spinner/paper-spinner-lite.html">
<link rel="import" href="../../bower_components/iron-image/iron-image.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-item/paper-icon-item.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">

<dom-module id="home-extras">
    <template>
        <style>
            :host {
                display: block;
            }

            /* Extras Container */

            #extras-container {
                /* height: 400px; */
                @apply --layout-horizontal;
            }

            #extras-container #magnificest-catalog,
            #extras-container #release-catalog {
                @apply --layout-flex-3;
            }

            #extras-container #google-ads {
                @apply --layout-flex-2;
                background: var(--app-theme-color);
                opacity: 0.7;
            }

            #extras-container #wizard-catalog {
                @apply --layout-flex-4;
            }

            /************* MAGNIFICENT CATALOG ***********************/

            #magnificest-catalog {
                @apply --layout-vertical;
            }

            #magnificest-catalog .mag-header {
                border-bottom: 1px solid var(--app-theme-color);
                @apply --layout-horizontal;
            }

            .mag-header .mag-title {
                margin: 0px 10px;
                padding: 10px;
                font-weight: 600;
                text-transform: uppercase;
                letter-spacing: 1.3px;
                border-bottom-right-radius: 30px;
                border-top-left-radius: 30px;
                padding: 10px 30px;
                padding-left: 20px;
                background: var(--app-theme-color);
            }

            .mag-body {
                @apply --layout-vertical;
                margin: 10px 0px;
            }

            .mag-body .mag-game {
                width: 100%;
                height: 100px;
                margin: 5px 0px;
                position: relative;
                cursor: pointer
            }

            a {
                text-decoration: none;
                color: #ffffff;
            }

            .mag-body .mag-game iron-image {
                width: 100%;
                height: 100%;
            }

            .mag-body .mag-game .mag-game-detail {
                @apply --layout-horizontal;
                @apply --layout-center;
                width: 100%;
                color: #fff;
                background: rgba(0, 0, 0, 0.6);
                position: relative;
                bottom: 30px;
                height: 30px;
            }

            .mag-body .mag-game .mag-game-detail .game-title {
                @apply --layout-flex-3;
                margin-left: 4px;
            }

            .mag-body .mag-game .mag-game-detail .game-score {
                @apply --layout-flex-1;
                background: var(--app-theme-color);
                color: #fff;
                border: 1px solid #fff;
                border-radius: 33px;
                padding: 4px;
                margin-right: 4px;
            }

            .mag-footer {
                @apply --layout-flex;
                @apply --layout-center-center;
                margin: 0 auto;
            }

            .mag-footer .more-button {
                background: var(--app-theme-color);
                text-transform: uppercase;
                color: #222;
                background: var(--app-theme-color);
                text-transform: uppercase;
                color: #222;
                font-weight: 600;
                letter-spacing: 1.3px;
                font-size: 0.77em;
                padding: 6px 8px;
            }


            /***************** WIZARD CATALOG ***************************/

            #wizard-catalog {
                @apply --layout-vertical;
            }

            #wizard-catalog .wizard-card {
                @apply --layout-vertical;
                @apply --shadow-elevation-4dp;
                @apply --layout-flex;
            }

            .wizard-card .wizard-card-header {
                @apply --layout-horizontal;
                @apply --layout-center-center;
                border-bottom: 3px solid var(--app-theme-color);
                height: 60px;
            }

            .wizard-card .wizard-card-header .header-title {
                @apply --layout-horizontal;
                @apply --layout-flex-9;
                padding: 10px;
            }

            .wizard-card .wizard-card-header .header-title .game-title {
                font-size: 17px;
                font-weight: 600;
            }

            .wizard-card .wizard-card-header .header-title .game-category {
                font-size: 13px;
                font-weight: 300;
            }

            .wizard-card .wizard-card-header .header-icons {
                @apply --layout-horizontal;
                @apply --layout-flex-3;
            }

            .wizard-card .wizard-card-header .header-icons img {
                height: 5%;
                width: 5%;
            }

            .wizard-card .wizard-card-body {
                @apply --layout-horizontal;
                padding: 10px;
                height: 100%;
            }

            .wizard-card .wizard-card-body .game-picture {
                opacity: 0.7;
                transition: all ease-in-out 0.3s;
                @apply --layout-flex-3;
            }

            .wizard-card .wizard-card-body .game-picture iron-image {
                height: 100%;
                width: 100%;
            }

            .wizard-card .wizard-card-body .game-detail {
                @apply --layout-flex-9;
                padding-left: 10px;
                @apply --layout-vertical;
            }

            .wizard-card .wizard-card-body .game-detail p {
                @apply --layout-flex;
            }



            /**************** RELEASE CATALOG **************************/

            #release-catalog {
                @apply --layout-vertical;
            }

            #release-catalog .google-adv {
                @apply --layout-flex-6;
                background: var(--app-theme-color);
                opacity: 0.7;
            }

            #release-catalog .release-card {
                @apply --layout-flex-6;
                @apply --shadow-elevation-6dp;
                background: #181818;
            }

            .release-card .release-card-header {
                height: 50px;
                @apply --layout-vertical;
                @apply --layout-center-center;
                align-items: left;
                padding: 5px;
                font-size: 1.3em;
                letter-spacing: 1.2px;
            }

            .release-card .release-card-header h5 {
                margin: 0;
            }

            .release-card .release-card-body {
                @apply --layout-vertical;
            }

            .release-card .release-card-body .game:nth-of-type(2n+1) {
                background: #222;
            }

            .release-card .release-card-body .game {
                @apply --layout-horizontal;
                padding: 1px 0px 1px 10px;
                height: 30px;
            }

            .release-card .release-card-body .game .game-title {
                @apply --layout-flex-9;
            }

            .release-card .release-card-body .game .game-release {
                @apply --layout-flex-3;
                font-size: 0.8rem;
            }

            /* MOBILE LAYOUT */

            #extras-container[mobile-layout] {
                @apply --layout-vertical;
            }

            .mag-body .mag-game[mobile-layout] {
                height: 200px;
            }


            /* REKLAMLAR */

            .google-adv iron-image , #google-ads iron-image {
                width: 100%;
                height: 100%;
            }


        </style>

        <!-- EXTRAS -->
        <div id="extras-container" mobile-layout$="[[isMobile]]">
            <div id="magnificest-catalog">
                <div class="mag-header">
                    <h4 class="mag-title">
                        Muhteşem 5'li
                    </h4>
                </div>
                <div class="mag-body">
                    <template is="dom-repeat" items={{magnificentgamelist}} as=item>
                        <a href="[[item.href]]">
                            <div class="mag-game" mobile-layout$="[[isMobile]]">
                                <iron-image src="[[item.src]]" preload sizing="cover"></iron-image>
                                <div class="mag-game-detail">
                                    <span class="game-title">
                                        [[item.title]]
                                    </span>
                                </div>
                                <paper-ripple></paper-ripple>
                            </div>
                        </a>
                    </template>
                </div>
                <a class="mag-footer" href="/game">
                    <paper-button raised class="more-button">Daha Fazlası</paper-button>
                </a>
            </div>
            <div id="google-ads">
                    <iron-image src="./frontend/images/challengelogin.jpg" preload sizing="cover"></iron-image>
            </div>
            <div id="wizard-catalog">
                <template is="dom-repeat" items={{cardgamelist}} as=item>
                    <div class="wizard-card">
                        <a href="/game/[[item.url]]">
                            <div class="wizard-card-header">
                                <div class="header-title">
                                    <span class="game-title">[[item.name]] /</span>
                                    <span class="game-category">[[item.genres]]</span>
                                </div>
                            </div>
                        </a>

                        <div class="wizard-card-body">
                            <div class="game-picture">
                                <iron-image src="https://cdn.kaldirirmi.com/images/games/[[item.picture]]" preload sizing="cover"></iron-image>
                            </div>
                            <div class="game-detail">
                                <p>[[item.detail]]</p>
                                <a target="_blank" href="/run/system/wizard">
                                    <paper-button raised>Sistem Sihirbazını Çalıştır</paper-button>
                                </a>
                            </div>
                        </div>
                    </div>


                </template>
            </div>
            <div id="release-catalog">
                <div class="google-adv">
                    <iron-image src="./frontend/images/atari.gif" preload sizing="cover"></iron-image>
                </div>
                <div class="release-card">
                    <div class="release-card-header">
                        <h5>OYUN ÇIKIŞ TARİHLERİ</h5>
                    </div>
                    <div class="release-card-body">

                        <template is="dom-repeat" items={{releaselist}} as=item>
                            <div class="game">
                                <div class="game-title">
                                    <span>[[item.name]]</span>
                                </div>
                                <div class="game-release">
                                    <span>[[item.release]]</span>
                                </div>
                            </div>
                        </template>
                    </div>
                </div>

            </div>
        </div>


    </template>
    <script>
        class HomeExtras extends Polymer.Element {
            static get is() {
                return 'home-extras'
            }

            static get properties() {
                return {
                    isMobile: {
                        type: Boolean,
                        notify: true,
                        reflectToAttribute: true
                    },
                    magnificentgamelist: {
                        type: Array,
                        value: [],
                        notify: true
                    },
                    cardgamelist: {
                        type: Array,
                        value: [],
                        notify: true
                    },
                    releaselist: {
                        type: Array,
                        value: [],
                        notify: true
                    },

                };
            }

            connectedCallback() {
                super.connectedCallback();

                const magnificentGames = [{
                        "name": "Tannenberg",
                        "picture": "tannenberg-logo.jpg",
                        "url": "tannenberg",
                        "releasedate": "16.11.2017 00:00:00",
                        "background": null,
                        "genres": "Action,Shooter",
                        "developer": null,
                        "publisher": "M2H, Blackmill Games"
                    },
                    {
                        "name": "Crackdown 3",
                        "picture": "crackdown-3-logo.jpg",
                        "url": "crackdown-3",
                        "releasedate": "7.11.2017 00:00:00",
                        "background": null,
                        "genres": "Action,Adventure,Shooter",
                        "developer": null,
                        "publisher": "Microsoft Studios"
                    },
                    {
                        "name": "Call of Duty: WWII",
                        "picture": "call-of-duty-WWII-logo.jpg",
                        "url": "call-of-duty--wwii",
                        "releasedate": "3.11.2017 00:00:00",
                        "background": null,
                        "genres": "Action,Online,Role Playing,Shooter",
                        "developer": null,
                        "publisher": "Activision\t"
                    },
                    {
                        "name": "Wolfenstein II: The New Colossus",
                        "picture": "wolfenstein-2-logo.jpg",
                        "url": "wolfenstein-ii--the-new-colossus",
                        "releasedate": "27.10.2017 00:00:00",
                        "background": null,
                        "genres": "Action,Shooter",
                        "developer": null,
                        "publisher": "Bethesda Softworks\t"
                    },
                    {
                        "name": "Call of Duty: WWII",
                        "picture": "call-of-duty-WWII-logo.jpg",
                        "url": "call-of-duty--wwii",
                        "releasedate": "3.11.2017 00:00:00",
                        "background": null,
                        "genres": "Action,Online,Role Playing,Shooter",
                        "developer": null,
                        "publisher": "Activision\t"
                    }
                ];

                magnificentGames.forEach((game) => {
                    let current = {
                        "title": game.name,
                        "href": "game/" + game.url,
                        "src": "https://cdn.kaldirirmi.com/images/games/" + game.picture
                    };
                    this.push('magnificentgamelist', current);
                });


                const cardGames = [{
                        "name": "Tannenberg",
                        "picture": "tannenberg-logo.jpg",
                        "url": "tannenberg",
                        "genres": "Action",
                        "detail": "Oyun fena dostum!"
                    },
                    {
                        "name": "Crackdown 3",
                        "picture": "crackdown-3-logo.jpg",
                        "url": "crackdown-3",
                        "genres": "Action",
                        "detail": "What kind of holding abi ya!?"
                    },
                    {
                        "name": "Call of Duty: WWII",
                        "picture": "call-of-duty-WWII-logo.jpg",
                        "url": "call-of-duty--wwii",
                        "genres": "Action",
                        "detail": "T A M A M"
                    }
                ];

                this.set('cardgamelist', cardGames);


                const gameReleaseList = [{
                        "name": "Vampyr (DONTNOD)",
                        "release": "05/06/2018"
                    },
                    {
                        "name": "Warhammer 40,000: Inquisitor",
                        "release": "06/06/2018"
                    },
                    {
                        "name": "Jurassic World Evolution",
                        "release": "12/06/2018"
                    },

                    {
                        "name": "World of Warcraft",
                        "release": "14/08/2018"
                    },
                    {
                        "name": "Metro Exodus",
                        "release": "21/08/2018"
                    },
                    {
                        "name": "Dragon Quest XI:",
                        "release": "04/09/2018"
                    },
                    {
                        "name": "Shadow of the Tomb Raider",
                        "release": "14/09/2018"
                    },

                    {
                        "name": "Mech Warrior 5",
                        "release": "15/12/2018"
                    }
                ];

                this.set('releaselist', gameReleaseList);


            }
        }

        window.customElements.define(HomeExtras.is, HomeExtras);
    </script>
</dom-module>